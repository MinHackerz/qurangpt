<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Quran GPT</title>
   <meta name="description" content="Quran GPT is an AI-powered Islamic knowledge base that provides answers to your questions based on the Holy Quran. Get insightful and accurate responses supported by relevant verses and interpretations from the Quran.">
   <link rel="icon" type="image/png" href="https://qurangpt.life/wp-content/uploads/2023/04/Quran-GPT-Favicon.png">
   <style>
       /* Import Montserrat font */
       @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

       body {
           font-family: 'Montserrat', sans-serif;
           margin: 0;
           padding: 0;
       }

       .container {
           max-width: 100%;
           margin: 0 auto;
           padding: 20px;
           box-sizing: border-box;
           text-align: center;
       }

       .title {
           font-size: 2rem;
           font-weight: 700;
           margin-bottom: 10px;
       }

       .description {
           font-size: 1.2rem;
           margin-bottom: 30px;
       }

       .input-container {
           position: relative;
           display: flex;
           justify-content: center;
           align-items: center;
       }

       textarea {
           width: 100%;
           max-width: auto;
           height: 170px;
           padding: 10px;
           font-size: 1rem;
           font-family: 'Montserrat', sans-serif;
           background-color: #f2f2f2;
           border: none;
           border-radius: 5px;
           resize: vertical;
           margin: 0 auto 20px;
           display: block;
       }

       .suggested-questions {
           display: flex;
           justify-content: center;
           margin-bottom: 20px;
       }

       .suggested-question {
           background-color: #e0e0e0;
           border: none;
           cursor: pointer;
           padding: 10px 20px;
           margin-right: 20px;
           border-radius: 20px;
           font-size: 1rem;
           font-weight: 700;
           color: #333;
           transition: background-color 0.3s ease;
       }

       .suggested-question:hover {
           background-color: #d0d0d0;
       }

       .buttons {
           display: flex;
           justify-content: center;
           margin-bottom: 30px;
       }

       .buttons button {
           display: flex;
           align-items: center;
           padding: 10px 20px;
           font-size: 1rem;
           font-family: 'Montserrat', sans-serif;
           cursor: pointer;
           border: none;
           border-radius: 5px;
           margin: 0 10px;
           margin-bottom: 150px;
       }

       .buttons button i {
           margin-right: 10px;
       }

       .buttons #askQuranBtn {
           background-color: #4CAF50;
           color: #fff;
       }

       .buttons #resetBtn {
           background-color: #f44336;
           color: #fff;
       }

       .processing {
           display: none;
           align-items: center;
           justify-content: center;
           margin-bottom: 30px;
       }

       .processing span {
           font-size: 4rem;
           animation: spin 1s infinite linear;
       }

       .summary {
           border: 1px solid #ddd;
           border-radius: 15px;
           padding: 20px;
           margin-bottom: 20px;
           display: none;
           text-align: left;
           position: relative;
           background-color: #f8f8f8;
           box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
       }

       .summary p {
           margin: 0;
           line-height: 1.5;
       }

       .summary h3 {
           font-size: 1.2rem;
           margin-top: 0;
           margin-bottom: 10px;
       }

       .summary blockquote {
           background-color: #e0e0e0;
           padding: 10px;
           border-radius: 5px;
           margin: 10px 0;
       }

       .summary a {
           color: #4CAF50;
           text-decoration: none;
       }

       .summary a:hover {
           text-decoration: underline;
       }

       .copy-container {
           display: none;
           justify-content: center;
           margin-bottom: 20px;
       }

       .copy-button {
           background-color: #9C27B0;
           color: #fff;
           border: none;
           border-radius: 5px;
           padding: 10px 20px;
           cursor: pointer;
           box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
           display: flex;
           align-items: center;
       }

       .copy-button i {
           margin-right: 10px;
       }

       @keyframes spin {
           from {
               transform: rotate(0deg);
           }
           to {
               transform: rotate(360deg);
           }
       }
       footer {
          background-color: #f8f8f8;
          padding: 10px 0;
          text-align: center;
          --position: fixed;
          bottom: 0;
          left: 0;
          right: 0;
      }

      .footer-container {
          font-size: 14px;
          color: #333;
      }

      .love-icon {
          color: #e74c3c;
      }
      .buy-me-a-coffee-container {
          position: fixed;
          bottom: 50px;
          right: 10px;
      }
   </style>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
   <div class="container">
       <div class="logo-container">
           <!-- Logo will be inserted here -->
       </div>
       <h1 class="title">Quran GPT</h1>
       <p class="description">Quran GPT is an AI-powered Islamic knowledge base that provides answers to your questions based on the Holy Quran. It utilizes advanced language models to offer insightful and accurate responses, supported by relevant verses and interpretations from the Quran.</p>

       <div class="suggested-questions">
           <button class="suggested-question" onclick="insertQuestion('What is the purpose of life?')">What is the purpose of life?</button>
           <button class="suggested-question" onclick="insertQuestion('Who is Prophet Muhammad (PBUH)?')">Who is Prophet Muhammad (PBUH)?</button>
           <button class="suggested-question" onclick="insertQuestion('Who is Allah?')">Who is Allah?</button>
       </div>

       <div class="input-container">
           <textarea placeholder="Assalamu Alaikum! Ask your question about Islam..." id="contentInput"></textarea>
       </div>

       <div class="buttons">
           <button id="askQuranBtn"><i class="fas fa-question-circle"></i> Ask Quran</button>
           <button id="resetBtn"><i class="fas fa-undo"></i> Reset</button>
       </div>

       <div class="processing" style="display: none;">
           <span class="fas fa-spinner"></span>
       </div>

       <div class="summary" id="summaryOutput">
           <!-- Summary will be displayed here -->
       </div>
       <div class="copy-container">
           <button class="copy-button" id="copyBtn"><i class="fas fa-copy"></i> Copy</button>
       </div>
   </div>

    <script>
        const contentInput = document.getElementById('contentInput');
        const askQuranBtn = document.getElementById('askQuranBtn');
        const resetBtn = document.getElementById('resetBtn');
        const summaryOutput = document.getElementById('summaryOutput');
        const processingDiv = document.querySelector('.processing');
        const copyBtn = document.getElementById('copyBtn');
        const copyContainer = document.querySelector('.copy-container');

        askQuranBtn.addEventListener('click', askQuran);
        resetBtn.addEventListener('click', resetForm);
        copyBtn.addEventListener('click', copyContent);

        function askQuran() {
            const question = contentInput.value.trim();

            if (question.length === 0) {
                return;
            }

            askQuranBtn.disabled = true;
            processingDiv.style.display = 'flex';
            summaryOutput.innerHTML = '';
            summaryOutput.style.display = 'none';
            copyContainer.style.display = 'none';

            const prompt = `**Introduction:**

I am Quran GPT, an AI-based Quranic Library, and an experienced Islamic Scholar/Researcher. My task is to answer your questions by providing references from the Holy Quran. I will always include at least one to three relevant Ayahs of the Quran to support my answers.

**Answering Format:**

I will respond to your questions as Quran GPT, and in every answer, I will include Quranic references to support my response. I will use references from different Surahs/Verses of the Holy Quran to ensure accuracy.

**Reference Format:**

I will provide the answer in the following format:

### Quran GPT's Answer:

**Allah(SWT) says in the Glorious Quran:**

_"Ayah of the Quran"_

_--- (Surah - " ": Ayah No. - " ")_

**Explanation and Tafseer:**

I will explain the Ayahs of the Quran provided as references in a peaceful and polite manner. My explanations will be authoritative, precise, and easy to understand.

**Additional Information:**

I will include one Tafseer related to the Ayah used in the reference. The Tafseer will be from reputable Islamic scholars and will provide further insights into the Ayah.

**References:**

1. [Surah Name: Ayah Number](https://alquran.cloud/ayah?reference={Surah No.}:{Ayah No.})

2. [Surah Name: Ayah Number](https://alquran.cloud/ayah?reference={Surah No.}:{Ayah No.})

3. ..................................................

]

Please note that you should replace \`{Surah No.}\` and \`{Ayah No.}\` with the actual Surah and Ayah numbers when you use this format to answer questions.

Question: ${question}

Answer:`;

            generate_response_with_gemini(prompt)
                .then(response => {
                    const formattedResponse = response.replace(/###/g, '\n\n###')
                                                    .replace(/\*\*\*\*\*\*/g, '**')
                                                    .replace(/\*\*\*/g, '***')
                                                    .replace(/\*\*([^*]*)\*\*/g, '**$1**')
                                                    .replace(/\_\_([^_]*)\_\_/g, '_$1_');
                    summaryOutput.textContent = formattedResponse;
                    summaryOutput.style.display = 'block';
                    copyContainer.style.display = 'flex';
                })
                .catch(error => {
                    console.error('Error generating response:', error);
                })
                .finally(() => {
                    askQuranBtn.disabled = false;
                    processingDiv.style.display = 'none';
                });
        }

        function resetForm() {
            contentInput.value = '';
            summaryOutput.textContent = '';
            summaryOutput.style.display = 'none';
            copyContainer.style.display = 'none';
        }

        function insertQuestion(question) {
            contentInput.value = question;
        }

        function copyContent() {
            const summary = summaryOutput.textContent;
            navigator.clipboard.writeText(summary)
                .then(() => {
                    copyBtn.textContent = 'Copied!';
                    setTimeout(() => {
                        copyBtn.textContent = 'Copy';
                    }, 1000);
                })
                .catch((error) => {
                    console.error('Failed to copy summary:', error);
                });
        }

        async function generate_response_with_gemini(prompt) {
            const apiKey = window.API_KEY; // Replace with your actual API key
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=${apiKey}`;

            const headers = {
                'Content-Type': 'application/json'
            };

            const body = {
                'contents': [
                    {
                        'parts': [
                            { 'text': prompt }
                        ]
                    }
                ]
            };

            const options = {
                method: 'POST',
                headers,
                body: JSON.stringify(body)
            };

            try {
              const response = await fetch(apiUrl, options);
              const data = await response.json();
              if (response.ok) {
                const extractedText = data.candidates[0].content.parts[0].text;
                return extractedText;
            } else {
                throw new Error('Error generating response from Gemini API');
            }
        } catch (error) {
            console.error('Error:', error);
            throw error;
        }
    }
    </script>
    <footer>
    <div class="buy-me-a-coffee-container">
        <a href="https://www.buymeacoffee.com/qurangptlik" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="height: 60px !important;width: 217px !important;" ></a>
    </div>
    <div class="footer-container">
        Made with <span class="love-icon">&#10084;</span> by <a href="https://www.linkedin.com/in/menajul-hoque/" target="_blank">Menajul Hoque</a>
    </div>
    </footer>
</body>
</html>
